# Copyright (c) 2024 Nordic Semiconductor
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause

module=BOARD
module-dep=LOG
module-str=Log level for board
source "${ZEPHYR_BASE}/subsys/logging/Kconfig.template.log_config"

if BOARD_KESTREL_NRF5340_CPUAPP || BOARD_KESTREL_NRF5340_CPUAPP_NS

config BOARD_ENABLE_DCDC_APP
	bool "Application MCU DCDC converter"
	select SOC_DCDC_NRF53X_APP
	default y

config BOARD_ENABLE_DCDC_NET
	bool "Network MCU DCDC converter"
	select SOC_DCDC_NRF53X_NET
	default y

config DOMAIN_CPUNET_BOARD
	string
	default "kestrel/nrf5340/cpunet"
	depends on SOC_NRF53_CPUNET_ENABLE
	help
	  The board which will be used for CPUNET domain when creating a multi
	  image application where one or more images should be located on
	  another board. For example hci_rpmsg on the nRF5340_cpunet for
	  Bluetooth applications.

endif

if BOARD_KESTREL_NRF5340_CPUNET

config BT_ECC
	default y if BT

config DOMAIN_CPUAPP_BOARD
	string
	default "kestrel/nrf5340/cpuapp"
	help
	  The board which will be used for CPUAPP domain when creating a multi
	  image application where one or more images should be located on
	  another board.

endif # BOARD_KESTREL_NRF5340_CPUNET

# Board-level configuration for SPI Bus Share module
config KESTREL_SPI_BUS_SHARE
	bool "Enable SPI Bus Share Module"
	default y
	help
	  Enable the SPI bus share module for both MCUboot and application.

	  When enabled:
	  - MCUboot will compile spi_bus_init.c and spi_bus_share.c with
	    BOOT_IMAGE_ACCESS_HOOKS support
	  - Application will compile spi_bus_share.c for runtime bus arbitration

	  When disabled:
	  - Both MCUboot and application will NOT include SPI bus sharing code
	  - Reduces code size in both images
	  - Use this if you don't need SPI bus arbitration at all

	  If unsure, say Y.

# Include SPI Bus Share module Kconfig
rsource "spi_bus_share/Kconfig"
